<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de Compras</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Krona+One&family=Montserrat&family=Numans&display=swap" rel="stylesheet">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
        }

        :root {
            --cor-primaria: #f5f3f3;
            --cor-secundaria: #970797;
            --neutro: #d37eec;
            --preto: #061366;
            --fonte-titulo: "Krona One", sans-serif;
            --fonte-texto: 'Numans', sans-serif;
            --degrade-azul: linear-gradient(180deg, #000000 0%, #380447 100%);
        }

        body {
            background: var(--degrade-azul);
            background-repeat: no-repeat;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            font-family: var(--fonte-texto);
        }

        main {
            background-color: var(--neutro);
            display: flex;
            flex-direction: column;
            gap: 24px;
            width: 100%;
            max-width: 440px;
            padding: 40px;
            align-items: center;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        img {
            width: 120px;
            height: auto;
        }

        h2 {
            font-family: var(--fonte-titulo);
            color: var(--cor-primaria);
            font-size: 20px;
            font-weight: 400;
            line-height: 32px;
            margin-bottom: 8px;
            text-align: center;
        }

        hr {
            border: none;
            border-bottom: 3px dotted var(--cor-primaria);
            margin-bottom: 24px;
            width: 100%;
        }

        .input-item {
            display: block;
            padding: 12px 16px;
            border-radius: 24px;
            border: 1px solid var(--preto);
            width: 100%;
            max-width: 307px;
            font-family: var(--fonte-texto);
            margin-bottom: 8px;
        }

        .input-item::placeholder {
            font-family: "Montserrat", sans-serif;
            font-size: 16px;
            line-height: 19px;
        }

        .button-item {
            padding: 12px 16px;
            border-radius: 24px;
            background-color: var(--cor-primaria);
            color: var(--neutro);
            font-family: var(--fonte-texto);
            font-size: 18px;
            font-weight: 400;
            line-height: 24px;
            border: none;
            cursor: pointer;
            transition: background-color 0.3s;
            width: 100%;
            max-width: 307px;
        }

        .button-item:hover {
            background-color: var(--cor-secundaria);
        }

        form {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            width: 100%;
        }

        .container-lista {
            width: 100%;
        }

        ul {
            list-style-type: none;
            width: 100%;
        }

        li {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #f3f3f3;
        }

        .lista-item-container {
            display: flex;
            gap: 8px;
            align-items: center;
            flex: 1;
        }

        input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .texto-data {
            font-size: 12px;
            line-height: 20px;
            color: #9f04e7;
            font-family: var(--fonte-texto);
        }

        .mensagem-lista-vazia {
            text-align: center;
            padding: 20px;
            color: #0a0a0a;
            font-style:oblique;
            font-family: var(--fonte-texto);
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <main>
        <img src="/Teste/img/clipboard.png" class="Checklist">
        <form id="shopping-form">
            <input
                class="input-item"
                id="input-item"
                type="text"
                placeholder="Digite o item que deseja adicionar"
            />
            <button class="button-item" id="adicionar-item" type="button">Salvar Item</button>
        </form>

        <div class="container-lista">
            <h2>Listinha de Casa</h2>
            <hr />
            <ul id="lista-de-compras"></ul>
            <p class="mensagem-lista-vazia" id="mensagem-vazia">Não há nenhum item na lista no momento!</p>
        </div>
    </main>

    <script>
        // Função para gerar data e hora formatada
        function gerarDiaDaSemana() {
            const diaDaSemana = new Date().toLocaleDateString("pt-BR", {
                weekday: "long"
            });
            const data = new Date().toLocaleDateString("pt-BR");
            const hora = new Date().toLocaleTimeString("pt-BR", {
                hour: "numeric",
                minute: "numeric"
            });
            const dataCompleta = `${diaDaSemana} (${data}) às ${hora}`;
            return dataCompleta;
        }

        // Função para criar item da lista
        function criarItemDaLista() {
            const inputItem = document.getElementById("input-item");
            
            if (inputItem.value === "") {
                alert("Por favor, insira um item!");
                return null;
            }

            const itemDaLista = document.createElement("li");
            const containerItemDaLista = document.createElement("div");
            containerItemDaLista.classList.add("lista-item-container");
            
            const inputCheckbox = document.createElement("input");
            inputCheckbox.type = "checkbox";
            
            const nomeItem = document.createElement("p");
            nomeItem.innerText = inputItem.value;

            inputCheckbox.addEventListener("click", function() {
                if (inputCheckbox.checked) {
                    nomeItem.style.textDecoration = "line-through";
                } else {
                    nomeItem.style.textDecoration = "none";
                }
            });

            containerItemDaLista.appendChild(inputCheckbox);
            containerItemDaLista.appendChild(nomeItem);
            itemDaLista.appendChild(containerItemDaLista);
            
            const dataCompleta = gerarDiaDaSemana();
            const itemData = document.createElement("p");
            itemData.innerText = dataCompleta;
            itemData.classList.add("texto-data");
            itemDaLista.appendChild(itemData);

            return itemDaLista;
        }

        // Função para verificar se a lista está vazia
        function verificarListaVazia(listaDeCompras) {
            const mensagemVazia = document.getElementById("mensagem-vazia");
            const itensDaLista = listaDeCompras.querySelectorAll("li");
            
            if (itensDaLista.length === 0) {
                mensagemVazia.style.display = "block";
            } else {
                mensagemVazia.style.display = "none";
            }
        }

        // Inicialização quando o documento estiver carregado
        document.addEventListener("DOMContentLoaded", function() {
            const listaDeCompras = document.getElementById("lista-de-compras");
            const botaoAdicionar = document.getElementById("adicionar-item");
            const shoppingForm = document.getElementById("shopping-form");
            
            // Event listener para o botão de adicionar
            botaoAdicionar.addEventListener("click", function(evento) {
                evento.preventDefault();
                const itemDaLista = criarItemDaLista();
                
                if (itemDaLista) {
                    listaDeCompras.appendChild(itemDaLista);
                    verificarListaVazia(listaDeCompras);
                    document.getElementById("input-item").value = "";
                }
            });
            
            // Event listener para o formulário (permite enviar com Enter)
            shoppingForm.addEventListener("submit", function(e) {
                e.preventDefault();
                botaoAdicionar.click();
            });
            
            // Verificar se a lista está vazia ao carregar
            verificarListaVazia(listaDeCompras);
        });
    </script>
</body>
</html>